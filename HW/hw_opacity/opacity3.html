<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>Moving Box</title>
	<script type="text/javascript">

	var box;
	var x;
	var intervalId1;
	var intervalId2;
	var y = 1;					// Initial opacity
	var opa = 1/250;		// opacity increment

	function init() {
		box = document.getElementById("box");
		x = 100;
		box.style.left = x + "px";			

		var handler1 = function() {		
				window.clearInterval(intervalId2)
				intervalId1 = window.setInterval(disappear, 10);					
		}

		var handler2 = function() {								
				window.clearInterval(intervalId1)
				intervalId2 = window.setInterval(showup, 10);										
		}

		var btn1 = document.getElementById("btn1");
		btn1.addEventListener("click", handler1)		

		var btn2 = document.getElementById("btn2");
		btn2.addEventListener("click", handler2)		
	}

	function disappear() {				
		y-=opa;		
		box.style.left = x + "px";			
		box.style.opacity = y;			// set opacity
		if (y < 0)
		{ window.clearInterval(intervalId1)};
	}

	function showup() {				
		y+=opa;
		box.style.left = x + "px";			
		box.style.opacity = y;			// set opacity		
		if (y > 1)		
		{ window.clearInterval(intervalId2)};
	}

	</script>

	<style type="text/css">
	
	.box{
		width: 100px; height: 100px; background-color: red;
		position:absolute; top: 100px;
	}

	</style>
</head>
<body onload="init();">

<button id="btn1">Disappear</button>
<button id="btn2">Showup</button>

<div class="box" id="box"> </div>

</body>
</html>